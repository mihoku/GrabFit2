@{
    ViewBag.Title = "My Daily Nutrition";
    ViewBag.Subtitle = ViewBag.selectedDate.ToString("dddd, dd MMMM yyyy");
}

<div class="row">

    <div class="col-sm-6 col-xl-3 col-lg-6 box-col-6">
        <div class="card gradient-primary o-hidden">
            <div class="b-r-4 card-body">
                <div class="media static-top-widget">
                    <div class="align-self-center text-center"><i data-feather="database"></i></div>
                    <div class="media-body">
                        <span class="m-0 text-white">Calories (Cal)</span>
                        <h4 class="mb-0 counter">@ViewBag.cal</h4><i class="icon-bg" data-feather="database"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-sm-6 col-xl-3 col-lg-6 box-col-6">
        <div class="card gradient-secondary o-hidden">
            <div class="b-r-4 card-body">
                <div class="media static-top-widget">
                    <div class="align-self-center text-center"><i data-feather="file-text"></i></div>
                    <div class="media-body">
                        <span class="m-0">Carbs (gr)</span>
                        <h4 class="mb-0 counter">@ViewBag.carb</h4><i class="icon-bg" data-feather="file-text"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-sm-6 col-xl-3 col-lg-6 box-col-6">
        <div class="card gradient-warning o-hidden">
            <div class="b-r-4 card-body">
                <div class="media static-top-widget">
                    <div class="align-self-center text-center">
                        <div class="text-white i" data-feather="alert-triangle"></div>
                    </div>
                    <div class="media-body">
                        <span class="m-0 text-white">Fat (gr)</span>
                        <h4 class="mb-0 counter text-white">@ViewBag.fat</h4><i class="icon-bg" data-feather="alert-triangle"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-sm-6 col-xl-3 col-lg-6 box-col-6">
        <div class="card gradient-info o-hidden">
            <div class="b-r-4 card-body">
                <div class="media static-top-widget">
                    <div class="align-self-center text-center">
                        <div class="text-white i" data-feather="globe"></div>
                    </div>
                    <div class="media-body">
                        <span class="m-0 text-white">Protein (gr)</span>
                        <h4 class="mb-0 counter text-white">@ViewBag.prot</h4><i class="icon-bg" data-feather="globe"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>

<!--calendar-->
<div class="card o-hidden">
    <div class="cal-date-widget card-body p-0">
        <div class="row">
            <div class="col-xl-5 col-xs-12 col-md-6 col-sm-12 gradient-primary">
                <div class="cal-info text-center">
                    <h2>@ViewBag.selectedDate.ToString("dd")</h2>
                    <div class="d-inline-block mt-2"><span class="b-r-light pr-3">@ViewBag.selectedDate.ToString("MMMM")</span><span class="pl-3">@ViewBag.selectedDate.Year</span></div>
                    <br /><br />
                    <center><h5><strong>MEAL</strong></h5></center>
                    <ul class="task-list">
                        @{ Html.RenderAction("meal", new { dateSelected = ViewBag.selectedDate });}
                    </ul>
                </div>
            </div>
            <div class="col-xl-7 col-xs-12 col-md-6 col-sm-12 p-50">
                <div class="cal-datepicker">
                    <div class="datepicker-here" data-language="en"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="card">
    <div class="card-header">
        <div class="row">
            <div class="col-9">
                <h5>7-Days Nutrition Tracking</h5>
            </div>
            <div class="col-3 text-right"><i class="text-muted" data-feather="navigation"></i></div>
        </div>
    </div>
    <div class="card-body pt-0 px-0">
        <ul class="nav nav-tabs nav-right" id="right-tab" role="tablist">
            <li class="nav-item"><a class="nav-link active" id="right-home-tab" data-toggle="tab" href="#right-home" role="tab" aria-controls="right-home" aria-selected="true"><i class="icofont icofont-fire-burn"></i>Calorie Tracking</a></li>
            <li class="nav-item"><a class="nav-link" id="contact-right-tab" data-toggle="tab" href="#right-contact" role="tab" aria-controls="contact-icon" aria-selected="false"><i class="icofont icofont-contacts"></i>Nutrition Detail</a></li>
        </ul>
        <div class="tab-content" id="right-tabContent">
            <div class="tab-pane fade show active" id="right-home" role="tabpanel" aria-labelledby="right-home-tab">
                <div id="line-adwords2"></div>
            </div>
            <div class="tab-pane fade" id="right-contact" role="tabpanel" aria-labelledby="contact-right-tab">
                <div id="line-adwords"></div>
            </div>
        </div>
    </div>
</div>

<script src="~/assets-poco/js/chart/apex-chart/apex-chart.js"></script>
<script>
    var optionsLine2 = {
        yaxis: {
            show: false,
        },
        grid: {
            show: false,
        },

        xaxis: {
            axisBorder: {
                show: true,
                color: '#cccccc',
                height: 1,
                width: '100%',
                offsetX: 0,
                offsetY: 0
            },
        },

        chart: {
            height: 420,
            type: 'line',
            zoom: {
                enabled: false
            },
            toolbar: {
                show: false
            }
        },
        stroke: {
            curve: 'smooth',
            width: 4
        },
        colors: ['#06b5dd'],
        series: [
        @*{
            name: "Carbohydrate",
            data: [@{Html.RenderAction("Carb", new { selectedDate = ViewBag.selectedDate.AddDays(-6) });},
                @{Html.RenderAction("Carb", new { selectedDate = ViewBag.selectedDate.AddDays(-5) });},
                @{Html.RenderAction("Carb", new { selectedDate = ViewBag.selectedDate.AddDays(-4) });},
                @{Html.RenderAction("Carb", new { selectedDate = ViewBag.selectedDate.AddDays(-3) });},
                @{Html.RenderAction("Carb", new { selectedDate = ViewBag.selectedDate.AddDays(-2) });},
                @{Html.RenderAction("Carb", new { selectedDate = ViewBag.selectedDate.AddDays(-1) });}, @ViewBag.Carb]
        },*@
        {
            name: "Calorie Intake",
            data: [@{Html.RenderAction("Calorie", new { selectedDate = ViewBag.selectedDate.AddDays(-6) });},
                @{Html.RenderAction("Calorie", new { selectedDate = ViewBag.selectedDate.AddDays(-5) });},
                @{Html.RenderAction("Calorie", new { selectedDate = ViewBag.selectedDate.AddDays(-4) });},
                @{Html.RenderAction("Calorie", new { selectedDate = ViewBag.selectedDate.AddDays(-3) });},
                @{Html.RenderAction("Calorie", new { selectedDate = ViewBag.selectedDate.AddDays(-2) });},
                @{Html.RenderAction("Calorie", new { selectedDate = ViewBag.selectedDate.AddDays(-1) });},
                @ViewBag.cal]
        }
        ],
        subtitle: {
            text: 'Calorie (Cal)',
            offsetY: 55,
            offsetX: 20
        },
        markers: {
            size: 6,
            strokeWidth: 0,
            hover: {
                size: 9
            }
        },
        labels: ['@ViewBag.selectedDate.AddDays(-6).ToString("MM/dd/yyyy")', '@ViewBag.selectedDate.AddDays(-5).ToString("MM/dd/yyyy")','@ViewBag.selectedDate.AddDays(-4).ToString("MM/dd/yyyy")','@ViewBag.selectedDate.AddDays(-3).ToString("MM/dd/yyyy")', '@ViewBag.selectedDate.AddDays(-2).ToString("MM/dd/yyyy")', '@ViewBag.selectedDate.AddDays(-1).ToString("MM/dd/yyyy")', '@ViewBag.selectedDate.ToString("MM/dd/yyyy")'],
        legend: {
            position: 'top',
            horizontalAlign: 'right',
            offsetY: -20
        }
    }
    var chartLine2 = new ApexCharts(document.querySelector('#line-adwords2'), optionsLine2);
                chartLine2.render();
                //-----------limit for second chart-------------------//
                var optionsLine = {
        yaxis: {
            show: false,
        },
        grid: {
            show: false,
        },

        xaxis: {
            axisBorder: {
                show: true,
                color: '#cccccc',
                height: 1,
                width: '100%',
                offsetX: 0,
                offsetY: 0
            },
        },

        chart: {
            height: 420,
            type: 'line',
            zoom: {
                enabled: false
            },
            toolbar: {
                show: false
            }
        },
        stroke: {
            curve: 'smooth',
            width: 4
        },
        colors: ['#7e37d8', '#fe80b2', '#06b5dd'],
        series: [{
            name: "Fat",
            data: [@{Html.RenderAction("Fat", new { selectedDate = ViewBag.selectedDate.AddDays(-6) });},
                @{Html.RenderAction("Fat", new { selectedDate = ViewBag.selectedDate.AddDays(-5) });},
                @{Html.RenderAction("Fat", new { selectedDate = ViewBag.selectedDate.AddDays(-4) });},
                @{Html.RenderAction("Fat", new { selectedDate = ViewBag.selectedDate.AddDays(-3) });},
                @{Html.RenderAction("Fat", new { selectedDate = ViewBag.selectedDate.AddDays(-2) });},
                @{Html.RenderAction("Fat", new { selectedDate = ViewBag.selectedDate.AddDays(-1) });}, @ViewBag.Fat]
        },
        {
            name: "Carbohydrate",
            data: [@{Html.RenderAction("Carb", new { selectedDate = ViewBag.selectedDate.AddDays(-6) });},
                @{Html.RenderAction("Carb", new { selectedDate = ViewBag.selectedDate.AddDays(-5) });},
                @{Html.RenderAction("Carb", new { selectedDate = ViewBag.selectedDate.AddDays(-4) });},
                @{Html.RenderAction("Carb", new { selectedDate = ViewBag.selectedDate.AddDays(-3) });},
                @{Html.RenderAction("Carb", new { selectedDate = ViewBag.selectedDate.AddDays(-2) });},
                @{Html.RenderAction("Carb", new { selectedDate = ViewBag.selectedDate.AddDays(-1) });}, @ViewBag.Carb]
        },
        {
            name: "Protein",
            data: [@{Html.RenderAction("Protein", new { selectedDate = ViewBag.selectedDate.AddDays(-6) });},
                @{Html.RenderAction("Protein", new { selectedDate = ViewBag.selectedDate.AddDays(-5) });},
                @{Html.RenderAction("Protein", new { selectedDate = ViewBag.selectedDate.AddDays(-4) });},
                @{Html.RenderAction("Protein", new { selectedDate = ViewBag.selectedDate.AddDays(-3) });},
                @{Html.RenderAction("Protein", new { selectedDate = ViewBag.selectedDate.AddDays(-2) });},
                @{Html.RenderAction("Protein", new { selectedDate = ViewBag.selectedDate.AddDays(-1) });},
                @ViewBag.Prot]
        }
        ],
        subtitle: {
            text: 'Nutrition Details (gram)',
            offsetY: 55,
            offsetX: 20
        },
        markers: {
            size: 6,
            strokeWidth: 0,
            hover: {
                size: 9
            }
        },
        labels: ['@ViewBag.selectedDate.AddDays(-6).ToString("MM/dd/yyyy")', '@ViewBag.selectedDate.AddDays(-5).ToString("MM/dd/yyyy")','@ViewBag.selectedDate.AddDays(-4).ToString("MM/dd/yyyy")','@ViewBag.selectedDate.AddDays(-3).ToString("MM/dd/yyyy")', '@ViewBag.selectedDate.AddDays(-2).ToString("MM/dd/yyyy")', '@ViewBag.selectedDate.AddDays(-1).ToString("MM/dd/yyyy")', '@ViewBag.selectedDate.ToString("MM/dd/yyyy")'],
        legend: {
            position: 'top',
            horizontalAlign: 'right',
            offsetY: -20
        }
    }
    var chartLine = new ApexCharts(document.querySelector('#line-adwords'), optionsLine);
    chartLine.render();
</script>